(this["webpackJsonpworld-atlas"]=this["webpackJsonpworld-atlas"]||[]).push([[0],{31:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(17),s=a.n(c),i=a(4),r=a(11),l=a(32),o=a(0),u=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],c=t[1],s=function(){if(!1===a)return c(!0);c(!1)};return Object(o.jsx)("div",{className:"burgerMenu",children:Object(o.jsxs)(l.slide,{isOpen:a,width:280,children:[Object(o.jsx)(i.b,{to:"/",className:"menu__item",onClick:s,children:"Home"}),Object(o.jsx)(i.b,{to:"/favorites",className:"menu__item",onClick:s,children:"Favorites"})]})})},j=function(){return Object(o.jsxs)("div",{className:"hMenu",children:[Object(o.jsx)(i.b,{to:"/",children:Object(o.jsx)("h1",{className:"hMenu__title",children:"World Atlas"})}),Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{className:"hMenu__ul",children:[Object(o.jsx)(i.b,{to:"/",children:Object(o.jsx)("li",{className:"hMenu__item",children:"Home"})}),Object(o.jsx)(i.b,{to:"/favorites",children:Object(o.jsx)("li",{className:"hMenu__item",children:"Favorites"})})]})})]})},h=function(e){return Object(o.jsxs)("header",{children:[Object(o.jsx)(u,{}),Object(o.jsx)(j,{})]})},d=a(35),b=a(34),f=a.n(b),m=a(2),O={get:function(e,t){var a=localStorage.getItem(e);return null===a?t:JSON.parse(a)},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},x=function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(i.b,{to:"/countries/".concat(e.alpha2Code),className:"countryList__card--linkWrap",children:[Object(o.jsx)("img",{src:e.flag,alt:"flag of ".concat(e.name),className:"countryList__card--flag"}),Object(o.jsx)("h2",{className:"countryList__card--name",children:e.name}),Object(o.jsx)("p",{className:"countryList__card--native",children:e.nativeName})]})})},_=a.p+"static/media/earth.64d3435d.gif",p=function(e){return Object(o.jsxs)("section",{className:"noResults",children:[Object(o.jsxs)("p",{className:"noResults__text",children:["There is no country or capital that fits your search"," ",Object(o.jsx)("span",{className:"noResults__text--search",children:e.userCountrySearch})," "]}),Object(o.jsx)("p",{className:"noResults__text",children:"Try again!"}),Object(o.jsx)("img",{src:_,alt:"Gif of the globe spinning",className:"noResults__img"})]})},g=function(e){if(0===e.countries.length)return Object(o.jsx)(p,{userCountrySearch:e.userCountrySearch});var t=e.countries.map((function(t,a){var n=e.favorites.find((function(e){return e.alpha2Code===t.alpha2Code}));return Object(o.jsxs)("li",{className:"countryList__card",children:[Object(o.jsx)(x,{name:t.name,flag:t.flag,nativeName:t.nativeName,alpha2Code:t.alpha2Code})," ",Object(o.jsx)("button",{id:a,onClick:function(){return e.favCountry(t.alpha2Code)},className:"countryList__card--favorite","aria-label":"favorite icon button",children:Object(o.jsx)("i",{className:n?"fas fa-lg fa-star countryList__card--favorite-icon":"far fa-lg fa-star countryList__card--favorite-icon",title:"Add to favorites"})})]},a)}));return Object(o.jsx)("section",{className:"countries",children:Object(o.jsx)("ul",{className:"countryList",children:t})})},v=function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(i.b,{to:"/",className:"backButton",onClick:e.handleFilterReset,children:[Object(o.jsx)("i",{className:"fas fa-lg fa-arrow-left backButton__arrow"}),Object(o.jsx)("small",{className:"backButton__text",children:"Back"})]})})},N=function(e){var t=e.country.timezones.map((function(e,t){return Object(o.jsx)("p",{children:e},t)})),a=e.country.currencies.map((function(e,t){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("p",{children:[e.name," ",e.symbol]},t)})})),n=e.country.languages.map((function(e,t){return Object(o.jsxs)("p",{children:[e.name," / ",e.nativeName]},t)}));return Object(o.jsxs)("section",{className:"countryDetail",children:[Object(o.jsx)(v,{}),Object(o.jsxs)("article",{className:"cDetail",children:[Object(o.jsx)("img",{src:e.country.flag,alt:"Flag of ".concat(e.country.name),className:"cDetail__flag"}),Object(o.jsxs)("h2",{className:"cDetail__title",children:["Welcome to"," ",Object(o.jsx)("span",{className:"cDetail__title--country",children:e.country.name})]}),Object(o.jsxs)("div",{className:"cDetail__information",children:[Object(o.jsx)("h3",{className:"cDetail__information--capital",children:e.country.capital}),Object(o.jsx)("h4",{className:"cDetail__information--timezone",children:"Timezones"}),t,Object(o.jsx)("h4",{className:"cDetail__information--currency",children:"Actual currency"}),a]}),Object(o.jsxs)("div",{className:"cDetail__socialInformation",children:[Object(o.jsx)("h4",{className:"cDetail__socialInformation--population",children:"Population"}),Object(o.jsxs)("p",{children:[e.country.population," people"]},e.country.alpha2Code),Object(o.jsx)("h4",{className:"cDetail__socialInformation--language",children:"Official languages"}),n]}),Object(o.jsx)("iframe",{className:"cDetail__map",title:"Map representation",src:"https://maps.google.com/maps?q=".concat(e.country.latlng[0],",").concat(e.country.latlng[1],"&t=&z=4&ie=UTF8&iwloc=&output=embed")})]},e.country.alpha3Code)]})},y=function(e){return Object(o.jsx)("div",{className:"searchArea__form",onSubmit:function(e){e.preventDefault()},children:Object(o.jsx)("label",{htmlFor:"searchBar",className:"searchArea__form--search",children:Object(o.jsx)("input",{id:"search",type:"search",placeholder:"Search a country or capital",className:"searchArea__form--search-input",onChange:function(t){e.handleFilters({searchValue:t.target.value.toLowerCase(),key:"country"})}})})})},F=function(e){return Object(o.jsxs)("label",{className:"filters__label",htmlFor:"continent",children:["Filter by Continent",Object(o.jsxs)("select",{id:"continent",name:"continent",className:"filters__select",onChange:function(t){e.handleFilters({continentValue:t.target.value,key:"continent"})},children:[Object(o.jsx)("option",{value:"All",children:"All"}),Object(o.jsx)("option",{value:"Africa",children:"Africa"}),Object(o.jsx)("option",{value:"Americas",children:"Americas"}),Object(o.jsx)("option",{value:"Asia",children:"Asia"}),Object(o.jsx)("option",{value:"Europe",children:"Europe"}),Object(o.jsx)("option",{value:"Oceania",children:"Oceania"})]})]})},C=function(e){var t=["All","Chinese","English","French","German","Hindi","Italian","Spanish","Portuguese","Russian"].map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}));return Object(o.jsxs)("label",{className:"filters__label",htmlFor:"language",children:["Filter by Language",Object(o.jsx)("select",{id:"language",name:"language",className:"filters__select",onChange:function(t){e.handleFilters({languageValue:t.target.value,key:"language"})},children:t})]})},A=function(e){return Object(o.jsxs)("form",{className:"filters",children:[Object(o.jsx)(y,{handleFilters:e.handleFilters}),Object(o.jsxs)("div",{className:"filters__dropdowns",children:[Object(o.jsx)(F,{handleFilters:e.handleFilters}),Object(o.jsx)(C,{handleFilters:e.handleFilters}),Object(o.jsx)("button",{className:"filters__reset",onClick:e.handleFilterReset,title:"Reset filters",children:Object(o.jsx)("i",{className:"fas fa-redo-alt filters__reset-icon"})})]})]})},k=a.p+"static/media/noFavs.85c812bf.gif",S=function(e){return Object(o.jsxs)("section",{className:"noFav",children:[Object(o.jsx)("h2",{className:"noFav__title",children:"Favorite countries"}),Object(o.jsx)("img",{src:k,alt:"Gif of a localization pin spinning",className:"noFav__img"}),Object(o.jsx)("p",{className:"noFav__paragraph",children:"You have no favorite countries yet...go back and add some"}),Object(o.jsx)(v,{handleFilterReset:e.handleFilterReset})]})},L=function(e){if(0===e.favorites.length)return Object(o.jsx)(S,{handleFilterReset:e.handleFilterReset});var t=e.favorites.map((function(t,a){return Object(o.jsxs)("li",{className:"countryList__card",children:[Object(o.jsx)(x,{name:t.name,flag:t.flag,nativeName:t.nativeName,alpha2Code:t.alpha2Code}),Object(o.jsx)("button",{id:a,onClick:function(){return e.favCountry(t.alpha2Code)},className:"countryList__card--favorite","aria-label":"favorite icon button",children:Object(o.jsx)("i",{className:"fas fa-lg fa-trash-alt countryList__card--favorite-icon",title:"Delete from favorites"})})]},a)}));return Object(o.jsxs)("section",{className:"favorites",children:[Object(o.jsx)("h2",{className:"favorites__title",children:"Favorite countries"}),Object(o.jsx)("ul",{className:"favorites__list",children:t})]})},R=a.p+"static/media/map.02e225db.gif",D=function(){return Object(o.jsxs)("section",{className:"noExist",children:[Object(o.jsx)(v,{}),Object(o.jsx)("p",{className:"noExist__text",children:"Ops, you got lost. This page does not exist."}),Object(o.jsx)("img",{src:R,alt:"Unfolding map gif",className:"noExist__img"})]})},w=function(){var e=O.get("Countries",[]),t=O.get("Favorites",[]),a=Object(n.useState)(e),c=Object(r.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(t),u=Object(r.a)(l,2),j=u[0],h=u[1],b=Object(n.useState)(""),x=Object(r.a)(b,2),_=x[0],p=x[1],v=Object(n.useState)("All"),y=Object(r.a)(v,2),F=y[0],C=y[1],k=Object(n.useState)("All"),S=Object(r.a)(k,2),R=S[0],w=S[1];if(Object(n.useEffect)((function(){0===e.length&&f.a.get("https://restcountries.eu/rest/v2/all").then((function(e){i(e.data)}))}),[e]),Object(n.useEffect)((function(){O.set("Countries",s),O.set("Favorites",j)})),!s)return null;var E=function(e){if(void 0!==j.find((function(t){return t.alpha2Code===e}))){var t=j.filter((function(t){return t.alpha2Code!==e}));h(t)}else{var a=s.find((function(t){return t.alpha2Code===e}));h([].concat(Object(d.a)(j),[a]))}},I=function(){p(""),C("All"),w("All")},M=s.filter((function(e){return e.name.toLowerCase().includes(_)||e.capital.toLowerCase().includes(_)})).filter((function(e){return"All"===F||e.region===F})).filter((function(e){return"All"===R||e.languages.map((function(e){return e.name})).includes(R)}));return Object(o.jsx)("main",{className:"main",children:Object(o.jsxs)(m.c,{children:[Object(o.jsxs)(m.a,{exact:!0,path:["/","/countries"],children:[Object(o.jsx)(A,{handleFilters:function(e){"country"===e.key&&p(e.searchValue),"continent"===e.key&&C(e.continentValue),"language"===e.key&&w(e.languageValue)},handleFilterReset:I}),Object(o.jsx)(g,{countries:M,favCountry:E,favorites:j,userCountrySearch:_,handleFilterReset:I})]}),Object(o.jsx)(m.a,{path:"/countries/:id",render:function(e){var t=e.match.params.id,a=s.find((function(e){return e.alpha2Code===t}));if(a)return Object(o.jsx)(N,{country:a})}}),Object(o.jsx)(m.a,{path:"/favorites",children:Object(o.jsx)(L,{favorites:j,countries:M,favCountry:E,handleFilterReset:I})}),Object(o.jsx)(m.a,{component:D})]})})};a(31);var E=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(h,{}),Object(o.jsx)(w,{})]})};s.a.render(Object(o.jsx)(i.a,{children:Object(o.jsx)(E,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.1be5915d.chunk.js.map